## Problem: Optimizing Real-time Bidding (RTB) for Advertising Campaigns

**Problem Description:**

You are tasked with designing and implementing an algorithm to optimize real-time bidding (RTB) for an advertising campaign. You have access to a stream of incoming bid requests, each representing an opportunity to display an ad to a user. Your goal is to maximize the total value (e.g., revenue, conversions, brand awareness) generated by the campaign within a given budget and time constraint.

Each bid request contains the following information:

*   `user_id`: A unique identifier for the user.
*   `ad_slot`: Information about the ad slot (e.g., website, placement size, visibility).
*   `user_context`: Data about the user (e.g., demographics, interests, browsing history).
*   `timestamp`: The time at which the bid request arrived.

You have access to the following resources:

*   `budget`: The total budget allocated for the campaign.
*   `time_limit`: The total duration of the campaign.
*   `model`: A machine learning model that predicts the value of showing an ad to a specific user in a specific ad slot, given the user's context. The model takes `user_id`, `ad_slot`, and `user_context` as input and returns a predicted value (e.g., probability of conversion, expected revenue).
*   `bidding_strategy`: A function that takes the predicted value from the model and returns a bid price.

Your task is to implement a function `optimize_rtb` that processes the stream of bid requests and determines whether or not to bid on each request, and if so, what bid price to use. The function should adhere to the budget and time constraints while maximizing the total value generated by the campaign.

**Constraints and Requirements:**

1.  **Real-time Processing:** The algorithm must be able to process bid requests in real-time, with minimal latency.  Assume a high volume of incoming requests.
2.  **Budget Constraint:** The total cost of all bids placed must not exceed the allocated budget. The algorithm must dynamically adjust bid prices to stay within budget.
3.  **Time Constraint:** The campaign must run for a specified duration (time\_limit). The algorithm must ensure that the budget is spent effectively throughout the campaign duration.
4.  **Model Uncertainty:** The model's predictions are not perfect. The algorithm must be robust to model uncertainty and adapt to changing user behavior and market conditions.
5.  **Exploration-Exploitation Trade-off:** The algorithm must balance exploiting the model's predictions to maximize immediate value with exploring new bid opportunities to improve the model's accuracy and discover potentially valuable segments of users.
6.  **Bidding Strategy Optimization:** You can adjust the bidding\_strategy to maximize the value of each bid. The bidding\_strategy can be as simple as a linear function of the predicted value or as complex as a reinforcement learning agent.
7.  **Scalability:** The solution should be designed to handle a large number of users and ad slots. Consider the memory and computational resources required by your algorithm.
8.  **Efficiency:** The algorithm should be efficient in terms of both time and space complexity. Aim for a solution with low overhead.

**Input:**

*   `bid_requests`: An iterable (e.g., generator, list) of bid request dictionaries.  Each dictionary has keys: `user_id`, `ad_slot`, `user_context`, `timestamp`.
*   `budget`: The total budget for the campaign (float).
*   `time_limit`: The total duration of the campaign (in seconds, float).
*   `model`: A function that takes `user_id`, `ad_slot`, and `user_context` as input and returns a predicted value (float).
*   `bidding_strategy`: A function that takes the predicted value from the model and returns a bid price (float).  You are free to modify this function.

**Output:**

The function should return a list of tuples, where each tuple represents a bid placed by the algorithm. Each tuple should contain the following information:

*   `timestamp`: The timestamp of the bid request.
*   `bid_price`: The bid price placed by the algorithm.
*   `predicted_value`: The predicted value from the model.
*   `user_id`: The user ID.
*   `ad_slot`: The ad slot.

**Example:**

(This is just a structure example, not executable code)

```python
def optimize_rtb(bid_requests, budget, time_limit, model, bidding_strategy):
    bids = []
    # Your implementation here
    return bids
```

**Judging Criteria:**

The solutions will be judged based on the following criteria:

*   **Total Value Generated:** The total value generated by the campaign, as measured by the sum of the predicted values for all bids placed.
*   **Budget Adherence:** The degree to which the algorithm stays within the allocated budget.
*   **Time Constraint Compliance:** The effectiveness of the algorithm in spending the budget throughout the campaign duration.
*   **Efficiency:** The time and space complexity of the algorithm.
*   **Robustness:** The ability of the algorithm to handle model uncertainty and changing market conditions.
*   **Code Quality:** The clarity, maintainability, and documentation of the code.

This problem requires a strong understanding of algorithms, data structures, machine learning, and real-time systems. Good luck!
